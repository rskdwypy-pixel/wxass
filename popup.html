<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>å¾®ä¿¡å…¬ä¼—å·åŠ©æ‰‹</title>
  <style>
    body { max-width: 1400px; margin: 0 auto; padding: 20px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    .top-bar { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; }
    .tab-mini { padding: 6px 12px; background: #f0f0f0; color: #666; border: none; border-radius: 4px; cursor: pointer; font-size: 13px; }
    .tab-mini.active { background: #07c160; color: white; }
    .tab-mini:hover { opacity: 0.8; }
    .main-container { display: flex; gap: 20px; }
    .left-panel { flex: 1; min-width: 0; }
    .right-panel { width: 400px; flex-shrink: 0; }
    .right-panel.hidden { display: none; }
    .main-container.full-width .left-panel { flex: 1; max-width: 100%; }
    .user-avatar { width: 24px; height: 24px; border-radius: 50%; }
    .login-btn { padding: 4px 12px; background: #07c160; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; }
    .login-btn:hover { background: #06ad56; }
    .header-bar { display: flex; align-items: center; justify-content: space-between; padding: 8px 0; margin-bottom: 10px; border-bottom: 1px solid #eee; }
    .user-info { display: flex; align-items: center; gap: 8px; }
    .icon-btn { width: 28px; height: 28px; padding: 0; display: flex; align-items: center; justify-content: center; background: #f0f0f0; color: #666; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
    .icon-btn:hover { background: #e0e0e0; }
    .icon-group { display: flex; gap: 6px; }
    .search-box { display: flex; gap: 8px; margin-bottom: 15px; position: relative; }
    input { flex: 1; padding: 8px 32px 8px 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }
    .clear-btn { position: absolute; right: 90px; top: 50%; transform: translateY(-50%); width: 20px; height: 20px; padding: 0; background: #ccc; color: white; border: none; border-radius: 50%; cursor: pointer; font-size: 12px; display: none; }
    .clear-btn:hover { background: #999; }
    button { padding: 8px 16px; background: #07c160; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
    button:hover { background: #06ad56; }
    button:disabled { background: #ccc; cursor: not-allowed; pointer-events: none; }
    .results { max-height: 500px; overflow-y: auto; }
    .account-item { padding: 10px; border: 1px solid #eee; border-radius: 4px; margin-bottom: 8px; cursor: pointer; }
    .account-item:hover { background: #f5f5f5; }
    .account-header { display: flex; align-items: center; gap: 10px; }
    .avatar { width: 40px; height: 40px; border-radius: 50%; }
    .account-info { flex: 1; }
    .account-name { font-weight: 600; font-size: 14px; }
    .account-id { color: #666; font-size: 12px; }
    .fakeid { color: #999; font-size: 11px; margin-top: 4px; }
    .copy-btn { padding: 4px 8px; font-size: 11px; background: #f0f0f0; color: #333; }
    .copy-btn:hover { background: #e0e0e0; }
    .article-item { padding: 8px; border-bottom: 1px solid #eee; }
    .article-title { font-size: 14px; color: #333; margin-bottom: 4px; cursor: pointer; }
    .article-title:hover { color: #07c160; }
    .article-meta { font-size: 12px; color: #999; }
    .back-btn { background: #666; margin-bottom: 10px; }
    .back-btn:hover { background: #555; }
    .empty { text-align: center; color: #999; padding: 20px; font-size: 13px; }
    .wx-article-item { padding: 10px; border: 1px solid #eee; border-radius: 4px; margin-bottom: 8px; }
    .wx-article-title { font-weight: 600; font-size: 14px; margin-bottom: 4px; }
    .wx-article-url { color: #999; font-size: 11px; word-break: break-all; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .side-actions { display: flex; flex-direction: column; gap: 8px; margin-bottom: 15px; }
    .side-btn { width: 100%; padding: 10px; font-size: 13px; }
  </style>
</head>
<body>
  <div class="top-bar">
    <button class="tab-mini active" data-tab="wechat">å¾®ä¿¡</button>
    <button class="tab-mini" data-tab="zhihu">çŸ¥ä¹</button>
  </div>

  <div id="wechat-tab" class="tab-content active">
    <div class="main-container" id="wxMainContainer">
      <div class="left-panel">
        <div class="header-bar">
          <div id="userDisplay" class="user-info"></div>
          <div class="icon-group">
            <button id="refreshBtn" class="icon-btn" title="åˆ·æ–°è®¤è¯">ğŸ”„</button>
            <button id="copyTokenBtn" class="icon-btn" title="å¤åˆ¶Token">ğŸ”‘</button>
            <button id="copyCookieBtn" class="icon-btn" title="å¤åˆ¶Cookie">ğŸª</button>
          </div>
        </div>

        <div id="searchView">
          <div class="search-box">
            <input type="text" id="searchInput" placeholder="æœç´¢å…¬ä¼—å·åç§°">
            <button id="clearBtn" class="clear-btn">Ã—</button>
            <button id="searchBtn">æœç´¢</button>
          </div>
          <div id="results" class="results"></div>
          <div id="pagination" style="display: none; margin-top: 10px; text-align: center;">
            <button id="prevBtn" style="background: #666; margin-right: 8px;">ä¸Šä¸€é¡µ</button>
            <span id="pageInfo" style="color: #666; font-size: 13px;"></span>
            <button id="nextBtn" style="background: #666; margin-left: 8px;">ä¸‹ä¸€é¡µ</button>
          </div>
        </div>

        <div id="articleView" style="display: none;">
          <div style="display: flex; gap: 8px; margin-bottom: 10px;">
            <button id="backBtn" class="back-btn" style="flex: 0 0 auto; margin-bottom: 0;">è¿”å›æœç´¢</button>
            <button id="exportCurrentBtn" style="background: #ff9800; flex: 0 0 auto;">å¯¼å‡ºå½“å‰</button>
            <button id="exportAllBtn" style="background: #f44336; flex: 0 0 auto;">å¯¼å‡ºæ‰€æœ‰</button>
          </div>
          <div id="articles" class="results"></div>
          <div id="articlePagination" style="display: none; margin-top: 10px; text-align: center;">
            <button id="prevArticleBtn" style="background: #666; margin-right: 8px;">ä¸Šä¸€é¡µ</button>
            <span id="articlePageInfo" style="color: #666; font-size: 13px;"></span>
            <button id="nextArticleBtn" style="background: #666; margin-left: 8px;">ä¸‹ä¸€é¡µ</button>
          </div>
        </div>
      </div>

      <div class="right-panel" id="wxRightPanel">
        <div class="side-actions">
          <button id="copyAllArticlesBtn" class="side-btn" style="background: #ff6b6b;">å¤åˆ¶æ‰€æœ‰</button>
          <button id="deleteAllArticlesBtn" class="side-btn" style="background: #f44336;">åˆ é™¤æ‰€æœ‰</button>
        </div>
        <div style="font-weight: 600; margin-bottom: 8px; font-size: 13px;">å·²ä¿å­˜çš„æ–‡ç« </div>
        <div id="wxArticlesList" class="results"></div>
      </div>
    </div>
  </div>

  <div id="zhihu-tab" class="tab-content">
    <div class="main-container" id="zhMainContainer">
      <div class="left-panel">
        <div style="font-weight: 600; margin-bottom: 8px; font-size: 13px;">å·²ä¿å­˜çš„æ–‡ç« </div>
        <div id="zhArticlesList" class="results"></div>
      </div>

      <div class="right-panel" id="zhRightPanel">
        <div style="margin-bottom: 15px;">
          <input type="text" id="zhihuUrlInput" placeholder="è¾“å…¥çŸ¥ä¹é“¾æ¥ï¼ˆå¯é€‰ï¼‰" style="width: 100%; margin-bottom: 8px;">
          <button id="extractZhihuBtn" style="width: 100%; background: #0084ff;">æå–çŸ¥ä¹å†…å®¹</button>
        </div>
        <div class="side-actions">
          <button id="copyAllZhihuBtn" class="side-btn" style="background: #0084ff;">å¤åˆ¶æ‰€æœ‰</button>
          <button id="deleteAllZhihuBtn" class="side-btn" style="background: #f44336;">åˆ é™¤æ‰€æœ‰</button>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
